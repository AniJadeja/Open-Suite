#
# Environment Variables for Hoppscotch Docker Compose Setup
#
# Fill in the values for each variable below.
# Do NOT enclose the values in quotes.
#

#This version of env loads up the admin dashboard but has problems with gauth

# --- PostgreSQL Database Configuration ---
# These credentials must match the ones used in the `postgres` service in the docker-compose.yml file.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<your-postgres-password>
POSTGRES_DB=hoppscotch
POSTGRES_PORT=5432

# This is the full connection string for the Hoppscotch backend to connect to the database.
# The format is: postgresql://<user>:<password>@<host>:<port>/<database>
# The host `postgres` refers to the service name in the docker-compose.yml file.
DATABASE_URL=postgresql://postgres:<your-postgres-password>@postgres:5432/hoppscotch

# --- Application Secrets ---
# These should be long, random, and secret strings. You can generate them using a password manager. The length must be 32 and avoid symbols as it can mess up with secret parsing. 
JWT_SECRET=<your-secret>
SESSION_SECRET=<your-secret>
DATA_ENCRYPTION_KEY=<your-data-enc-secret>

ACCESS_TOKEN_VALIDITY=86400000
REFRESH_TOKEN_VALIDITY=604800000
MAGIC_LINK_TOKEN_VALIDITY=3
TOKEN_SALT_COMPLEXITY=10

# --- Hoppscotch Instance URLs ---
# Replace 'localhost' with your actual domain if you are deploying to a server.
# Make sure there is no trailing slash '/'.

ENABLE_SUBPATH_BASED_ACCESS=true

# Frontend and Base Urls

# Replace these values
HOPP_AIO_ALTERNATE_PORT=81
VITE_SHORTCODE_BASE_URL=https://hopp.<your-domain>.com
VITE_BASE_URL=https://hopp.<your-domain>.com
VITE_ADMIN_URL=https://hopp.<your-domain>.com/admin
REDIRECT_URL=https://hopp.<your-domain>.com

# Backend Urls
VITE_BACKEND_GQL_URL=https://hopp-api.<your-domain>.com/graphql
VITE_BACKEND_WS_URL=ws://hopp-api.<your-domain>.com/graphql
VITE_BACKEND_API_URL=https://hopp-api.<your-domain>.com/v1

# --- CORS Configuration (CRITICAL FIX) ---
# This variable is required by the backend to prevent crashes.
# It lists the domains that are allowed to make requests to the Hoppscotch API.
# It should include your frontend, admin, and backend URLs.
WHITELISTED_ORIGINS=https://hopp-api.<your-domain>.com,ws://hopp-api.<your-domain>.com,https://hopp.<your-domain>.com,app://hopp.<your-domain>.com,app://hopp_<your-domain>_com,http://app.hopp_<your-domain>_com,https://api.volnyn.com
MAILER_SMTP_ENABLE=false

# --- Google OAuth Provider Configuration ---
# You must get these credentials from the Google Cloud Console for your project.
# 1. Go to https://console.cloud.google.com/apis/credentials
# 2. Create an "OAuth client ID".
# 3. Application type: "Web application".
# 4. Add the callback URL below to the "Authorized redirect URIs".

# This variable tells Hoppscotch to only show the "Login with Google" button.
VITE_ALLOWED_AUTH_PROVIDERS=GOOGLE

# Your Client ID and Secret from Google Cloud Console.      - postgres_data:/var/lib/postgresql/data

GOOGLE_CLIENT_ID=<your-appid>.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=<your-secret>
GOOGLE_SCOPE=email,profile

# This is the URL Google will redirect back to after successful authentication.
# It MUST be added to your OAuth client ID configuration in the Google Cloud Console.
# If you are deploying to a domain, replace `localhost` with your domain name.
GOOGLE_CALLBACK_URL=https://hopp-api.<your-domain>.com/v1/auth/google/callback